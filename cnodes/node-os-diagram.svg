<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <defs>
    <style>
      .title{font:700 28px Inter,Arial;}
      .h{font:600 18px Inter,Arial;}
      .t{font:400 14px Inter,Arial;}
      .box{fill:#ffffff;stroke:#e2e8f0;stroke-width:2;rx:14;ry:14;}
      .chip{fill:#f8fafc;stroke:#cbd5e1;stroke-width:1.5;rx:10;ry:10;}
      .accent{fill:#0ea5e9;stroke:#0284c7;stroke-width:2;rx:12;ry:12;}
      .line{stroke:#94a3b8;stroke-width:2;marker-end:url(#arrow);}
      .dline{stroke:#64748b;stroke-dasharray:6 6;stroke-width:2;marker-end:url(#arrow);}
      .badge{fill:#1e293b;color:#fff;font:600 12px Inter,Arial;}
    </style>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" fill="#64748b"/>
    </marker>
  </defs>
  <text class="title" x="40" y="50">Node.js ↔ Sistema Operativo — Flujo y Capas</text>
  <rect class="box" x="60" y="90" width="1080" height="120"/>
  <text class="h" x="80" y="120">Tu código JS/TS (app, scripts, frameworks)</text>
  <g class="t" fill="#0f172a">
    <text x="80" y="150">• fs, http, net, timers, crypto, child_process …</text>
    <text x="80" y="175">• Módulos de usuario, npm packages</text>
  </g>
  <rect class="box" x="60" y="230" width="1080" height="220"/>
  <text class="h" x="80" y="260">Node Runtime</text>
  <rect class="chip" x="100" y="290" width="280" height="120"/>
  <text class="h" x="120" y="320">V8 (Motor JS)</text>
  <text class="t" x="120" y="345">• Compila/ejecuta JS</text>
  <text class="t" x="120" y="365">• Garbage Collector</text>
  <rect class="chip" x="420" y="290" width="300" height="120"/>
  <text class="h" x="440" y="320">libuv (Event Loop & Threads)</text>
  <text class="t" x="440" y="345">• IO no bloqueante</text>
  <text class="t" x="440" y="365">• Pool de hilos</text>
  <rect class="chip" x="760" y="290" width="340" height="120"/>
  <text class="h" x="780" y="320">APIs Node (fs, net, http, timers…)</text>
  <text class="t" x="780" y="345">• Superficies JS sobre libuv/OS</text>
  <rect class="accent" x="60" y="470" width="1080" height="170"/>
  <text class="h" x="80" y="500" fill="#fff">Sistema Operativo</text>
  <rect class="chip" x="90" y="530" width="220" height="80"/>
  <text class="h" x="110" y="560">Sistema de archivos</text>
  <text class="t" x="110" y="580">open/read/write, permisos</text>
  <rect class="chip" x="340" y="530" width="220" height="80"/>
  <text class="h" x="360" y="560">Red / Sockets</text>
  <text class="t" x="360" y="580">epoll/kqueue/IOCP</text>
  <rect class="chip" x="590" y="530" width="220" height="80"/>
  <text class="h" x="610" y="560">Timers & Señales</text>
  <text class="t" x="610" y="580">SIGINT, clock</text>
  <rect class="chip" x="840" y="530" width="220" height="80"/>
  <text class="h" x="860" y="560">Procesos & Threads</text>
  <text class="t" x="860" y="580">spawn, scheduler</text>
  <line class="line" x1="180" y1="210" x2="240" y2="290"/>
  <line class="line" x1="500" y1="210" x2="570" y2="290"/>
  <line class="line" x1="910" y1="210" x2="930" y2="290"/>
  <line class="dline" x1="240" y1="410" x2="200" y2="530"/>
  <line class="dline" x1="570" y1="410" x2="450" y2="530"/>
  <line class="dline" x1="930" y1="410" x2="960" y2="530"/>
  <rect class="badge" x="980" y="100" width="140" height="26" rx="6" ry="6"/>
  <text x="990" y="118" fill="#fff" class="t" style="font-weight:600">API estable JS</text>
  <rect class="badge" x="980" y="250" width="140" height="26" rx="6" ry="6"/>
  <text x="990" y="268" fill="#fff" class="t" style="font-weight:600">Abstracción</text>
  <rect class="badge" x="980" y="480" width="140" height="26" rx="6" ry="6"/>
  <text x="990" y="498" fill="#fff" class="t" style="font-weight:600">Primitivas SO</text>
</svg>
